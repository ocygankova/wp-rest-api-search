(()=>{"use strict";var e,t={99:(e,t,r)=>{const s=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.element,i=window.wp.components,l=window.wp.apiFetch;var c=r.n(l);const p=window.ReactJSXRuntime,u=JSON.parse('{"UU":"create-block/wp-rest-api-search"}');(0,s.registerBlockType)(u.UU,{edit:function({attributes:e,setAttributes:t}){const[r,s]=(0,o.useState)([]),[l,u]=(0,o.useState)(!0),[h,d]=(0,o.useState)(null),[w,f]=(0,o.useState)(e.postTypes),[v,b]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{e.uniqueId||t({uniqueId:Math.random().toString(36).substr(2,9)})},[]),(0,o.useEffect)(()=>{!async function(){try{u(!0);const e=await c()({path:"/wp/v2/types"});let t=Object.values(e).filter(e=>!e.slug.startsWith("wp_")&&"attachment"!==e.slug&&"nav_menu_item"!==e.slug).map(e=>({name:e.name,rest_base:e.rest_base||e.slug}));s(t)}catch(e){console.error("Error fetching types:",e),d((0,a.__)("Failed to load post types","wp-rest-api-search"))}finally{u(!1)}}()},[]),(0,p.jsxs)("div",{...(0,n.useBlockProps)(),children:[(0,p.jsx)("h3",{children:(0,a.__)("Select post types to search:","wp-rest-api-search")}),l&&(0,p.jsx)(i.Spinner,{}),h&&(0,p.jsx)(i.Notice,{status:"error",children:h}),!l&&!h&&(0,p.jsx)("div",{className:"post-type-checkboxes",children:r.map(({rest_base:e,name:t})=>(0,p.jsx)(i.CheckboxControl,{label:t,checked:w.includes(e),onChange:()=>(e=>{let t;t=w.includes(e)?w.filter(t=>t!==e):[...w,e],f(t),b(!0)})(e)},e))}),(0,p.jsx)(i.Button,{variant:"primary",onClick:()=>{t({postTypes:w}),b(!1)},disabled:0===w.length||!v,style:{marginTop:"1rem"},children:(0,a.__)("Save selection","wp-rest-api-search")}),w.length>0&&(0,p.jsxs)("p",{style:{marginTop:"1rem",fontStyle:"italic"},children:[(0,a.__)("Currently selected: ","wp-rest-api-search"),w.join(", ")]})]})}})}},r={};function s(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,r,a,n)=>{if(!r){var o=1/0;for(p=0;p<e.length;p++){for(var[r,a,n]=e[p],i=!0,l=0;l<r.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every(e=>s.O[e](r[l]))?r.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(p--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[r,a,n]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={874:0,206:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var a,n,[o,i,l]=r,c=0;if(o.some(t=>0!==e[t])){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var p=l(s)}for(t&&t(r);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(p)},r=globalThis.webpackChunkwp_rest_api_search=globalThis.webpackChunkwp_rest_api_search||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=s.O(void 0,[206],()=>s(99));a=s.O(a)})();